<mat-card class="weather-hero-card">
	@if (loading())
	{
		<div class="loading-overlay">
			<mat-spinner diameter="60" class="loading-spinner"></mat-spinner>
		</div>
	}

	@if (!loading())
	{
		<div class="weather-content">
			<!-- Location and Refresh -->
			<div class="header">
				<div class="location">
					<mat-icon>location_on</mat-icon>
					<h2>{{ location() }}</h2>
				</div>
				<button
					mat-icon-button
					(click)="onRefresh()"
					class="refresh-button"
					aria-label="Refresh weather"
				>
					<mat-icon>refresh</mat-icon>
				</button>
			</div>

			@if (currentWeather())
			{
				<!-- Main Temperature and Icon -->
				<div class="main-weather">
					<div class="temperature-section">
						<div class="temperature">
							{{ temperature() | number: "1.1-1" }}°
						</div>
						<div class="feels-like">
							Feels like {{ feelsLike() | number: "1.1-1" }}°
						</div>
					</div>

					@if (weatherIconUrl())
					{
						<img
							[src]="weatherIconUrl()"
							[alt]="primaryCondition()"
							class="weather-icon"
						/>
					}
				</div>

				<!-- Weather Condition -->
				<div class="condition">
					<h3 class="condition-main">{{ primaryCondition() }}</h3>
					<p class="condition-description">
						{{ weatherDescription() }}
					</p>
				</div>
			}
		</div>
	}

	@if (!loading() && !currentWeather())
	{
		<div class="empty-state">
			<mat-icon>cloud_off</mat-icon>
			<p>No weather data available</p>
			<button mat-raised-button color="primary" (click)="onRefresh()">
				<mat-icon>refresh</mat-icon>
				Load Weather
			</button>
		</div>
	}
</mat-card>
