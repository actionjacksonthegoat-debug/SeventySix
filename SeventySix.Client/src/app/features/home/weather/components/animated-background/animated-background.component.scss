:host {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: -1;
	overflow: hidden;
}

.animated-background {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-size: cover;
	background-position: center;
	background-repeat: no-repeat;
}

.smooth-transition {
	transition: background 1.5s ease-in-out;

	&.no-animation {
		transition: none;
	}
}

.gradient-overlay {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: linear-gradient(
		180deg,
		rgba(0, 0, 0, 0.1) 0%,
		rgba(0, 0, 0, 0.3) 100%
	);
}

// Clear sky - sunny gradient
.bg-clear {
	background: linear-gradient(180deg, #87ceeb 0%, #4a90e2 50%, #f4a460 100%);
	animation: sunnyPulse 20s ease-in-out infinite;

	&.no-animation {
		animation: none;
	}
}

@keyframes sunnyPulse {
	0%,
	100% {
		filter: brightness(1);
	}
	50% {
		filter: brightness(1.1);
	}
}

// Cloudy - grey gradient
.bg-clouds {
	background: linear-gradient(180deg, #b0bec5 0%, #78909c 50%, #546e7a 100%);
	animation: cloudyDrift 30s ease-in-out infinite;

	&.no-animation {
		animation: none;
	}
}

@keyframes cloudyDrift {
	0%,
	100% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
}

// Rain - dark blue gradient
.bg-rain {
	background: linear-gradient(180deg, #4a5f7a 0%, #2c3e50 50%, #1a252f 100%);
	animation: rainFlow 15s linear infinite;

	&.no-animation {
		animation: none;
	}

	&::before {
		content: "";
		position: absolute;
		top: -50%;
		left: 0;
		width: 100%;
		height: 200%;
		background-image: repeating-linear-gradient(
			180deg,
			transparent 0px,
			transparent 2px,
			rgba(255, 255, 255, 0.1) 2px,
			rgba(255, 255, 255, 0.1) 4px
		);
		animation: rainDrop 1s linear infinite;
	}

	&.no-animation::before {
		animation: none;
		opacity: 0.5;
	}
}

@keyframes rainFlow {
	0% {
		filter: brightness(0.8);
	}
	50% {
		filter: brightness(0.6);
	}
	100% {
		filter: brightness(0.8);
	}
}

@keyframes rainDrop {
	0% {
		transform: translateY(0);
	}
	100% {
		transform: translateY(50px);
	}
}

// Drizzle - lighter rain
.bg-drizzle {
	background: linear-gradient(180deg, #607d8b 0%, #455a64 50%, #37474f 100%);
	animation: drizzleFlow 20s ease-in-out infinite;

	&.no-animation {
		animation: none;
	}

	&::before {
		content: "";
		position: absolute;
		top: -50%;
		left: 0;
		width: 100%;
		height: 200%;
		background-image: repeating-linear-gradient(
			180deg,
			transparent 0px,
			transparent 3px,
			rgba(255, 255, 255, 0.05) 3px,
			rgba(255, 255, 255, 0.05) 6px
		);
		animation: drizzleDrop 1.5s linear infinite;
	}

	&.no-animation::before {
		animation: none;
		opacity: 0.3;
	}
}

@keyframes drizzleFlow {
	0%,
	100% {
		filter: brightness(0.9);
	}
	50% {
		filter: brightness(0.7);
	}
}

@keyframes drizzleDrop {
	0% {
		transform: translateY(0);
	}
	100% {
		transform: translateY(40px);
	}
}

// Snow - white/blue gradient
.bg-snow {
	background: linear-gradient(180deg, #e3f2fd 0%, #bbdefb 50%, #90caf9 100%);
	animation: snowfall 25s ease-in-out infinite;

	&.no-animation {
		animation: none;
	}

	&::before {
		content: "";
		position: absolute;
		top: -50%;
		left: 0;
		width: 100%;
		height: 200%;
		background-image:
			radial-gradient(
				circle,
				rgba(255, 255, 255, 0.8) 1px,
				transparent 1px
			),
			radial-gradient(
				circle,
				rgba(255, 255, 255, 0.6) 1px,
				transparent 1px
			);
		background-size:
			50px 50px,
			100px 100px;
		background-position:
			0 0,
			25px 25px;
		animation: snowDrift 20s linear infinite;
	}

	&.no-animation::before {
		animation: none;
		opacity: 0.5;
	}
}

@keyframes snowfall {
	0%,
	100% {
		filter: brightness(1.1);
	}
	50% {
		filter: brightness(1);
	}
}

@keyframes snowDrift {
	0% {
		transform: translateY(0) translateX(0);
	}
	100% {
		transform: translateY(100px) translateX(20px);
	}
}

// Thunderstorm - dark purple/grey
.bg-thunderstorm {
	background: linear-gradient(180deg, #37474f 0%, #263238 50%, #1a1a2e 100%);
	animation: thunderFlash 5s ease-in-out infinite;

	&.no-animation {
		animation: none;
	}
}

@keyframes thunderFlash {
	0%,
	90%,
	100% {
		filter: brightness(0.5);
	}
	93%,
	96% {
		filter: brightness(1.5);
		box-shadow: inset 0 0 100px rgba(255, 255, 255, 0.5);
	}
}

// Mist/Fog - pale grey gradient
.bg-mist {
	background: linear-gradient(180deg, #cfd8dc 0%, #b0bec5 50%, #90a4ae 100%);
	animation: mistWave 30s ease-in-out infinite;

	&.no-animation {
		animation: none;
	}

	&::before {
		content: "";
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: radial-gradient(
			ellipse at center,
			rgba(255, 255, 255, 0.3) 0%,
			transparent 70%
		);
		animation: mistFlow 20s ease-in-out infinite;
	}

	&.no-animation::before {
		animation: none;
		opacity: 0.5;
	}
}

@keyframes mistWave {
	0%,
	100% {
		filter: blur(0px);
	}
	50% {
		filter: blur(2px);
	}
}

@keyframes mistFlow {
	0%,
	100% {
		transform: translateX(0) scale(1);
		opacity: 0.5;
	}
	50% {
		transform: translateX(50px) scale(1.1);
		opacity: 0.7;
	}
}

// Respect reduced motion media query
@media (prefers-reduced-motion: reduce) {
	.animated-background {
		animation: none !important;
		transition: none !important;

		&::before {
			animation: none !important;
		}
	}
}
