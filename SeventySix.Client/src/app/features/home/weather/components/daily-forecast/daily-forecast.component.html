<mat-card class="daily-forecast-card">
	<div class="card-header">
		<h3>
			<mat-icon>calendar_today</mat-icon>
			8-Day Forecast
		</h3>
	</div>

	@if (dailyForecasts() && dailyForecasts()!.length > 0)
	{
		<div class="forecast-grid">
			@for (forecast of dailyForecasts(); track forecast.dt)
			{
				<div class="forecast-card">
					<!-- Day Name -->
					<div class="forecast-day">
						{{ formatDayName(forecast.dt) }}
					</div>

					<!-- Weather Icon and Condition -->
					<div class="forecast-weather">
						@if (getWeatherIconUrl(forecast))
						{
							<img
								[src]="getWeatherIconUrl(forecast)"
								[alt]="forecast.weather[0]?.main"
								class="forecast-icon"
							/>
						}
						<div class="forecast-condition">
							{{ forecast.weather[0]?.main }}
						</div>
					</div>

					<!-- Temperature Range -->
					<div class="forecast-temps">
						<div class="forecast-high">
							{{ forecast.temp.max | number: "1.1-1" }}°
						</div>
						<div class="temp-separator">/</div>
						<div class="forecast-low">
							{{ forecast.temp.min | number: "1.1-1" }}°
						</div>
					</div>

					<!-- Summary -->
					@if (forecast.summary)
					{
						<div class="forecast-summary">
							{{ forecast.summary }}
						</div>
					}

					<!-- Precipitation -->
					@if (forecast.pop && forecast.pop > 0)
					{
						<div class="forecast-pop">
							<mat-icon>water_drop</mat-icon>
							<span>{{ formatPrecipitation(forecast.pop) }}</span>
						</div>
					}
				</div>
			}
		</div>
	}

	@if (!dailyForecasts() || dailyForecasts()!.length === 0)
	{
		<div class="empty-state">
			<mat-icon>calendar_today</mat-icon>
			<p>No daily forecast data available</p>
		</div>
	}
</mat-card>
