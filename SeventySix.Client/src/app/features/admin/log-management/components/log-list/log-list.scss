@use "variables" as vars;

:host {
	display: flex;
	flex-direction: column;
	flex: 1;
	min-height: 0;
	width: 100%;
}

.log-list-container {
	display: flex;
	flex-direction: column;
	flex: 1;
	min-height: 0;
	gap: 0; // Remove gap between sections
	width: 100%;

	// Loading/Error States
	.loading-container {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		gap: vars.$spacing-md;
		padding: vars.$spacing-2xl;
		min-height: 400px;
	}

	.error-card {
		max-width: 600px;
		margin: vars.$spacing-2xl auto;

		.error-content {
			display: flex;
			align-items: flex-start;
			gap: vars.$spacing-md;

			mat-icon {
				font-size: 48px;
				width: 48px;
				height: 48px;
			}
		}
	}

	// Filters Expansion Panel
	.filters-expansion-panel {
		border-radius: vars.$border-radius-md;
		box-shadow: none;
		border: 1px solid var(--md-sys-color-outline-variant);
		margin-bottom: vars.$spacing-lg;

		.filters-section {
			padding: vars.$spacing-md 0;
		}
	}

	// Table Header (Search + Column Menu)
	.table-header {
		display: flex;
		align-items: center;
		gap: vars.$spacing-sm;
		margin-bottom: vars.$spacing-md;

		.search-field {
			flex: 1;
			min-width: 300px;
			max-width: 500px;

			// Reduce height using subscript appearance
			::ng-deep .mat-mdc-form-field-subscript-wrapper {
				display: none;
			}

			::ng-deep .mat-mdc-text-field-wrapper {
				padding-bottom: 0;
			}
		}
	}

	// Column Menu
	.column-menu-header {
		font-weight: 600;
		cursor: default;
		opacity: 1 !important;
	}

	// Filter Stats Row
	.filter-stats-row {
		display: flex;
		align-items: center;
		gap: vars.$spacing-md;
		margin-bottom: vars.$spacing-lg;

		.stats-summary {
			display: flex;
			align-items: center;
			gap: vars.$spacing-sm;
			flex-wrap: wrap;

			mat-chip {
				--mdc-chip-label-text-size: 0.813rem;
				min-height: 28px;
				padding: 4px 10px;
				display: inline-flex;
				align-items: center;
				gap: vars.$spacing-xs;
				border-radius: vars.$border-radius-sm;
				cursor: default;
				pointer-events: none;

				mat-icon {
					font-size: vars.$icon-size-sm;
					width: vars.$icon-size-sm;
					height: vars.$icon-size-sm;
				}
			}
		}
	}

	// Table Container
	app-log-table {
		flex: 1;
		display: flex;
		flex-direction: column;
		min-height: 0;
		width: 100%;
	}
}

// Responsive adjustments
@media #{vars.$breakpoint-sm} {
	.log-list-container {
		.table-header {
			flex-direction: column;
			align-items: stretch;

			.search-field {
				width: 100%;
				min-width: unset;
				max-width: 100%;
			}
		}

		.filter-stats-row {
			flex-direction: column;
			align-items: stretch;

			.stats-summary {
				justify-content: center;
			}
		}
	}
}

@media #{vars.$breakpoint-mobile} {
	.log-list-container {
		gap: 0;

		.filter-stats-row {
			.stats-summary {
				mat-chip {
					font-size: 12px;
					padding: vars.$spacing-xs vars.$spacing-sm;

					mat-icon {
						font-size: 16px;
						width: 16px;
						height: 16px;
					}
				}
			}
		}
	}
}
