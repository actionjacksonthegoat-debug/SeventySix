@use "variables" as vars;

:host {
	display: flex;
	flex-direction: column;
	flex: 1;
	min-height: 0;
	width: 100%;
}

.log-table-container {
	display: flex;
	flex-direction: column;
	gap: vars.$spacing-lg; // 16px
	flex: 1;
	min-height: 0;
	width: 100%;
}

.bulk-actions {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: vars.$spacing-md vars.$spacing-lg; // 12px 16px
	background-color: var(--mat-table-background-color);
	border: 1px solid var(--mat-table-row-item-outline-color);
	border-radius: vars.$border-radius-sm; // 4px

	.selected-count {
		font-weight: vars.$font-weight-medium;
		color: var(--mat-table-row-item-label-text-color);
	}

	button {
		display: flex;
		align-items: center;
		gap: vars.$spacing-sm; // 8px
	}
}

.table-wrapper {
	flex: 1;
	min-height: 400px;
	overflow: hidden;
	width: 100%;

	.table-viewport {
		height: 600px; // Fixed height for virtual scroller
		overflow-y: auto;
		width: 100%;
		@include vars.custom-scrollbar();

		@media (min-height: 900px) {
			height: 700px;
		}

		@media (min-height: 1080px) {
			height: 800px;
		}
	}
}

.log-table {
	width: 100%;

	.log-row {
		cursor: pointer;
		transition: vars.$transition-background;

		&:hover {
			background-color: var(--mat-table-row-item-hover-state-layer-color);
		}
	}

	.level-chip {
		display: inline-block;
		padding: vars.$spacing-xs vars.$spacing-sm; // 4px 8px
		border-radius: vars.$border-radius-chip; // fully rounded
		font-size: vars.$font-size-xs; // 11px
		font-weight: vars.$font-weight-medium;
		text-transform: uppercase;

		&.level-verbose {
			background-color: #e0e0e0;
			color: #424242;
		}

		&.level-debug {
			background-color: #bbdefb;
			color: #1565c0;
		}

		&.level-info {
			background-color: #c8e6c9;
			color: #2e7d32;
		}

		&.level-warning {
			background-color: #ffe0b2;
			color: #e65100;
		}

		&.level-error {
			background-color: #ffcdd2;
			color: #c62828;
		}

		&.level-fatal {
			background-color: #f3e5f5;
			color: #6a1b9a;
		}
	}

	.timestamp {
		font-size: vars.$font-size-sm; // 12px
		color: var(--mat-table-row-item-label-text-color);
	}

	.message {
		display: block;
		max-width: 400px;
		@include vars.truncate-text();
	}

	.empty-state {
		text-align: center;
		padding: vars.$spacing-3xl vars.$spacing-lg; // 48px 16px
		color: var(--mat-table-row-item-label-text-color);

		mat-icon {
			font-size: vars.$icon-size-xl; // 48px
			width: vars.$icon-size-xl;
			height: vars.$icon-size-xl;
			opacity: 0.3;
		}

		p {
			margin: vars.$spacing-sm 0 0 0; // 8px 0 0 0
			font-size: vars.$font-size-base; // 14px
			opacity: 0.6;
		}
	}
}

mat-paginator {
	border-top: 1px solid var(--mat-table-row-item-outline-color);
}

// Responsive Design
@media #{vars.$breakpoint-sm} {
	.log-table {
		.message {
			max-width: 300px;
		}
	}

	.bulk-actions {
		flex-direction: column;
		align-items: stretch;
		gap: vars.$spacing-sm; // 8px

		button {
			width: 100%;
			justify-content: center;
		}
	}
}

@media #{vars.$breakpoint-xs} {
	.log-table-container {
		gap: vars.$spacing-sm; // 8px
	}

	.log-table {
		.message {
			max-width: 200px;
		}

		.empty-state {
			padding: vars.$spacing-2xl vars.$spacing-sm; // 32px 8px
		}
	}
}
