@use "variables" as vars;
@use "mixins" as mixins;

.log-detail-dialog {
	width: 100%;
	min-height: vars.$min-height-dialog;
	border: 1px solid var(--mat-sys-outline-variant);

	.dialog-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: vars.$spacing-lg vars.$spacing-xl;
		margin: 0;

		.header-content {
			display: flex;
			align-items: center;
			gap: vars.$spacing-sm;
			flex: 1;

			mat-icon {
				font-size: vars.$icon-size-lg;
				width: vars.$icon-size-lg;
				height: vars.$icon-size-lg;
			}

			.level-name {
				font-size: vars.$font-size-xl;
				font-weight: vars.$font-weight-medium;
			}

			.source-context,
			.timestamp {
				font-size: vars.$font-size-sm;
				color: var(--mat-dialog-supporting-text-color);
			}
		}

		.header-actions {
			display: flex;
			gap: vars.$spacing-xs;
		}

		@include mixins.dialog-header-responsive();
	}

	.dialog-content {
		padding: 0;
		max-height: 70vh;
		overflow-y: auto;
		@include vars.custom-scrollbar();
	}

	.detail-section {
		@include mixins.dialog-section-responsive();

		.section-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: vars.$spacing-sm;
		}

		.section-title {
			font-size: vars.$font-size-base;
			font-weight: vars.$font-weight-medium;
			margin: 0 0 vars.$spacing-md 0;
			color: var(--mat-dialog-headline-color);
			display: flex;
			align-items: center;
		}

		.section-content {
			font-size: vars.$font-size-sm;
			line-height: vars.$line-height-base;
			color: var(--mat-dialog-supporting-text-color);

			&.message-content {
				font-size: vars.$font-size-base;
				color: var(--mat-dialog-headline-color);
				white-space: pre-wrap;
				word-break: break-word;
			}

			&.stack-trace-content,
			&.properties-content {
				@include mixins.code-block-scrollable(300px);
			}

			&.info-grid {
				@include mixins.info-grid-responsive();
			}
		}

		&.error-section {
			background-color: rgba(var(--mat-sys-error-rgb, 179, 38, 30), 0.05);
			padding: vars.$spacing-lg;
			border-radius: vars.$border-radius-md;
			border-left: 4px solid var(--mat-sys-error);

			.error-breakdown {
				display: flex;
				flex-direction: column;
				gap: vars.$spacing-lg;

				.error-label {
					display: flex;
					align-items: center;
					gap: vars.$spacing-xs;
					font-weight: vars.$font-weight-medium;
					color: var(--mat-dialog-headline-color);
				}

				.error-value {
					padding: vars.$spacing-md;
					background-color: var(--mat-table-background-color);
					border-radius: vars.$border-radius-sm;
					font-family: vars.$font-family-monospace;
					word-break: break-word;

					pre {
						margin: 0;
						white-space: pre-wrap;
					}
				}
			}
		}

		&.stack-section {
			background-color: rgba(
				var(--mat-sys-tertiary-rgb, 103, 80, 164),
				0.05
			);
			padding: vars.$spacing-lg;
			border-radius: vars.$border-radius-md;
			border-left: 4px solid var(--mat-sys-tertiary);

			.stack-trace-content {
				@include mixins.code-block-scrollable(400px);
			}
		}
	}

	@include mixins.log-level-colors();

	@media #{vars.$breakpoint-sm} {
		max-width: 90vw;
	}

	@media #{vars.$breakpoint-xs} {
		max-width: 95vw;
	}
}
