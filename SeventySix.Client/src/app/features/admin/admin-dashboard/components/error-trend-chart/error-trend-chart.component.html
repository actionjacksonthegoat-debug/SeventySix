<div class="error-trend-chart" role="region" aria-label="Error trend chart">
	@if (isLoading())
	{
		<div class="loading-container" role="status" aria-live="polite">
			<mat-spinner
				diameter="40"
				aria-label="Loading chart data"
			></mat-spinner>
			<p>Loading chart data...</p>
		</div>
	}
	@else if (error())
	{
		<div class="error-container" role="alert" aria-live="assertive">
			<mat-icon color="warn" aria-hidden="true">error</mat-icon>
			<p>{{ error() }}</p>
			<button
				mat-raised-button
				color="primary"
				(click)="onRefresh()"
				aria-label="Retry loading chart data"
			>
				<mat-icon aria-hidden="true">refresh</mat-icon>
				Retry
			</button>
		</div>
	}
	@else if (chartData())
	{
		<app-chart
			[title]="title()"
			[subtitle]="subtitle()"
			[chartType]="'line'"
			[chartData]="chartData()!"
			[chartOptions]="chartOptions"
			[showExport]="true"
			[showRefresh]="true"
			(refresh)="onRefresh()"
			role="img"
			[attr.aria-label]="
				'Line chart showing error trends over ' + period()
			"
		/>
	}
</div>
