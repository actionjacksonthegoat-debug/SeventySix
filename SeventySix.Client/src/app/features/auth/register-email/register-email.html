<div class="register-container">
	<div class="register-card">
		@if (submitted()) {
		<div
			class="success-state"
			role="status"
			aria-live="polite">
			<h1>Check Your Email</h1>
			<p>
				If this email address is available, we've sent a verification link. Please check your inbox and spam
				folder.
			</p>
			<a
				routerLink="/auth/login"
				class="btn-primary">
				Return to Sign In
			</a>
		</div>
		} @else {
		<h1>Create Account</h1>
		<p class="description">
			Enter your email address to get started. We'll send you a link to complete your registration.
		</p>

		<form
			(ngSubmit)="onSubmit()"
			class="register-form"
			#registerForm="ngForm">
			<div class="form-group required">
				<label for="email">Email Address</label>
				<input
					id="email"
					type="email"
					[(ngModel)]="email"
					name="email"
					#emailField="ngModel"
					required
					autocomplete="email"
					placeholder="Enter your email"
					aria-required="true"
					[attr.aria-invalid]="
							emailField.invalid && emailField.touched
						"
				/>
			</div>

			<button
				type="submit"
				class="btn-primary"
				[disabled]="isLoading() || !email.trim()"
				[attr.aria-busy]="isLoading()">
				@if (isLoading()) { Sending... } @else { Continue }
			</button>
		</form>

		<div class="links">
			<span>Already have an account?</span>
			<a routerLink="/auth/login">Sign In</a>
		</div>
		}
	</div>
</div>
