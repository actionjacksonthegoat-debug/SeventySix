<div class="change-password-container">
	<div class="change-password-card">
		<h1>Change Password</h1>

		@if (isRequired())
		{
			<p class="required-notice">
				You must change your password before continuing.
			</p>
		}

		<form (ngSubmit)="onSubmit()" #form="ngForm">
			<div class="form-group">
				<label for="currentPassword">Current Password</label>
				<input
					type="password"
					id="currentPassword"
					name="currentPassword"
					[(ngModel)]="currentPassword"
					required
					[disabled]="isLoading()"
					autocomplete="current-password"
				/>
			</div>

			<div class="form-group">
				<label for="newPassword">New Password</label>
				<input
					type="password"
					id="newPassword"
					name="newPassword"
					[(ngModel)]="newPassword"
					required
					minlength="8"
					[disabled]="isLoading()"
					autocomplete="new-password"
				/>
				<small class="hint">
					At least 8 characters with uppercase, lowercase, and a digit
				</small>
			</div>

			<div class="form-group">
				<label for="confirmPassword">Confirm New Password</label>
				<input
					type="password"
					id="confirmPassword"
					name="confirmPassword"
					[(ngModel)]="confirmPassword"
					required
					[disabled]="isLoading()"
					autocomplete="new-password"
				/>
			</div>

			<button
				type="submit"
				[disabled]="isLoading() || !form.valid"
				class="submit-button"
			>
				@if (isLoading())
				{
					<span>Changing...</span>
				}
				@else
				{
					<span>Change Password</span>
				}
			</button>
		</form>
	</div>
</div>
