<div class="forgot-password-container">
	<div class="forgot-password-card">
		@if (submitted()) {
		<div
			class="success-state"
			role="status"
			aria-live="polite">
			<h1>Check Your Email</h1>
			<p>
				If an account exists with that email address, we've sent a password reset link. Please check your inbox
				and spam folder.
			</p>
			<a
				routerLink="/auth/login"
				class="btn-primary">
				Return to Sign In
			</a>
		</div>
		} @else {
		<h1>Forgot Password</h1>
		<p class="description">
			Enter your email address and we'll send you a link to reset your password.
		</p>

		<form
			(ngSubmit)="onSubmit()"
			class="forgot-password-form"
			#forgotForm="ngForm">
			<div class="form-group required">
				<label for="email">Email Address</label>
				<input
					id="email"
					type="email"
					[(ngModel)]="email"
					name="email"
					#emailField="ngModel"
					required
					autocomplete="email"
					placeholder="Enter your email"
					aria-required="true"
					[attr.aria-invalid]="
							emailField.invalid && emailField.touched
						"
				/>
			</div>

			<button
				type="submit"
				class="btn-primary"
				[disabled]="isLoading() || !email.trim()"
				[attr.aria-busy]="isLoading()">
				@if (isLoading()) { Sending... } @else { Send Reset Link }
			</button>
		</form>

		<div class="back-link">
			<a routerLink="/auth/login">Back to Sign In</a>
		</div>
		}
	</div>
</div>
