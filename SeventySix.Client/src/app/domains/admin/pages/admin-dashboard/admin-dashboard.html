<div class="admin-dashboard">
	<app-page-header
		icon="dashboard"
		title="Admin Dashboard"
		subtitle="System monitoring and metrics"
	/>

	<div class="dashboard-content">
		<mat-tab-group>
			<!-- System Overview Tab -->
			<mat-tab label="System Overview">
				<ng-template matTabContent>
					<div class="tab-content full-height">
						<!-- System Health & Metrics (Grafana) -->
						<app-grafana-dashboard-embed
							[dashboardUid]="systemOverviewDashboard"
							title="System Health & Metrics"></app-grafana-dashboard-embed>
					</div>
				</ng-template>
			</mat-tab>

			<!-- API Metrics Tab -->
			<mat-tab label="API Metrics">
				<ng-template matTabContent>
					<div class="tab-content full-height">
						<!-- API Endpoint Metrics (Grafana) -->
						<app-grafana-dashboard-embed
							[dashboardUid]="apiEndpointsDashboard"
							title="API Endpoint Metrics"></app-grafana-dashboard-embed>
					</div>
				</ng-template>
			</mat-tab>

			<!-- Cache Metrics Tab -->
			<mat-tab label="Cache Metrics">
				<ng-template matTabContent>
					<div class="tab-content full-height">
						<!-- Valkey Cache Metrics (Grafana) -->
						<app-grafana-dashboard-embed
							[dashboardUid]="valkeyCacheDashboard"
							title="Valkey Cache Metrics"></app-grafana-dashboard-embed>
					</div>
				</ng-template>
			</mat-tab>

			<!-- External Systems Tab -->
			<mat-tab label="External Systems">
				<div class="tab-content">
					<!-- Third-Party API Statistics (Application-specific data) -->
					<app-api-statistics-table></app-api-statistics-table>

					<!-- Scheduled Background Jobs -->
					<app-scheduled-jobs-table></app-scheduled-jobs-table>

					<!-- Dev-only: Log Validations + Data Tools (hidden in production) -->
					@if (!isProduction) {
					<mat-card>
						<mat-card-header>
							<mat-card-title>
								<mat-icon aria-hidden="true">science</mat-icon>
								Log Validations
							</mat-card-title>
						</mat-card-header>
						<mat-card-content>
							<div class="log-validation-links">
								<button
									mat-stroked-button
									(click)="sendInfoLog()">
									<mat-icon aria-hidden="true">info</mat-icon>
									Info
								</button>
								<button
									mat-stroked-button
									(click)="sendWarnLog()">
									<mat-icon aria-hidden="true">warning</mat-icon>
									Warn
								</button>
								<button
									mat-stroked-button
									(click)="sendErrorLog()">
									<mat-icon aria-hidden="true">error</mat-icon>
									Error
								</button>
							</div>
						</mat-card-content>
					</mat-card>

					<!-- Observability Row -->
					<mat-card
						class="observability-card"
						data-testid="observability-card">
						<mat-card-header>
							<mat-card-title>
								<mat-icon aria-hidden="true">visibility</mat-icon>
								Observability Tools
							</mat-card-title>
						</mat-card-header>
						<mat-card-content>
							<div class="observability-links">
								<button
									mat-stroked-button
									data-testid="jaeger-button"
									aria-label="Open Jaeger distributed tracing"
									(click)="openJaeger()">
									<mat-icon aria-hidden="true">bug_report</mat-icon>
									Jaeger Tracing
								</button>
								<button
									mat-stroked-button
									data-testid="prometheus-button"
									aria-label="Open Prometheus metrics"
									(click)="openPrometheus()">
									<mat-icon aria-hidden="true">analytics</mat-icon>
									Prometheus Metrics
								</button>
								<button
									mat-stroked-button
									data-testid="grafana-button"
									aria-label="Open Grafana dashboards"
									(click)="openGrafana()">
									<mat-icon aria-hidden="true">open_in_new</mat-icon>
									Grafana Full View
								</button>
							</div>
						</mat-card-content>
					</mat-card>

					<!-- Data Tools Row (Dev-only) -->
					<mat-card
						class="data-card"
						data-testid="data-card">
						<mat-card-header>
							<mat-card-title>
								<mat-icon aria-hidden="true">storage</mat-icon>
								Data Tools
							</mat-card-title>
						</mat-card-header>
						<mat-card-content>
							<div class="data-links">
								<button
									mat-stroked-button
									data-testid="pgadmin-button"
									aria-label="Open pgAdmin PostgreSQL Manager"
									(click)="openPgAdmin()">
									<mat-icon aria-hidden="true">table_chart</mat-icon>
									pgAdmin
								</button>
								<button
									mat-stroked-button
									data-testid="redisinsight-button"
									aria-label="Open RedisInsight Valkey Explorer"
									(click)="openRedisInsight()">
									<mat-icon aria-hidden="true">memory</mat-icon>
									RedisInsight
								</button>
								<button
									mat-stroked-button
									data-testid="scalar-button"
									aria-label="Open Scalar OpenAPI Reference"
									(click)="openScalar()">
									<mat-icon aria-hidden="true">api</mat-icon>
									Scalar
								</button>
							</div>
						</mat-card-content>
					</mat-card>
					}
				</div>
			</mat-tab>
		</mat-tab-group>
	</div>
</div>
