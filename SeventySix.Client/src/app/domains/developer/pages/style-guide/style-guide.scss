@use "variables" as vars;
@use "@angular/material" as mat;
@use "skeleton";

.style-guide {
	display: flex;
	flex-direction: column;
	gap: vars.$spacing-xl;
	padding: vars.$spacing-xl;
	max-width: vars.$container-width-xl;
	margin: 0 auto;
}

.style-guide-header {
	display: flex;
	flex-direction: column;
	gap: vars.$spacing-lg;
	margin-bottom: vars.$spacing-sm;

	h1 {
		margin: 0;
		font-size: vars.$font-size-3xl;
		font-weight: 500;
	}

	p {
		margin: 0;
		color: var(--mat-sys-on-surface-variant);
	}

	.theme-controls {
		display: flex;
		gap: vars.$spacing-lg;
		align-items: stretch;
		flex-wrap: wrap;

		button[mat-stroked-button] {
			height: vars.$form-field-height;
		}

		mat-form-field {
			width: 12.5rem; // 200px
		}
	}
}

.tab-content {
	padding: vars.$spacing-xl 0;
	display: flex;
	flex-direction: column;
	gap: vars.$spacing-xl;

	h2 {
		margin: 0 0 vars.$spacing-sm 0;
		font-size: vars.$font-size-xl;
		font-weight: 500;
	}

	p {
		margin: 0 0 vars.$spacing-lg 0;
		color: var(--mat-sys-on-surface-variant);
	}
}

// Color Grid
.color-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(12.5rem, 1fr));
	gap: vars.$spacing-lg;
}

.color-card {
	.color-swatches {
		display: flex;
		gap: vars.$spacing-md;
		margin-bottom: vars.$spacing-sm;

		@media #{vars.$breakpoint-mobile} {
			flex-direction: column;
		}
	}

	.color-swatch {
		flex: 1;
		height: 5rem; // 80px
		border-radius: vars.$border-radius-base;
		display: flex;
		align-items: center;
		justify-content: center;
		border: 1px solid var(--mat-sys-outline);

		span {
			font-size: vars.$font-size-sm;
			font-weight: 500;
			padding: vars.$spacing-xs vars.$spacing-sm;
			border-radius: vars.$border-radius-base;
		}

		&.primary {
			background-color: var(--mat-sys-primary);

			span {
				color: var(--mat-sys-on-primary);
			}
		}

		&.primary-container {
			background-color: var(--mat-sys-primary-container);

			span {
				color: var(--mat-sys-on-primary-container);
			}
		}

		&.secondary {
			background-color: var(--mat-sys-secondary);

			span {
				color: var(--mat-sys-on-secondary);
			}
		}

		&.secondary-container {
			background-color: var(--mat-sys-secondary-container);

			span {
				color: var(--mat-sys-on-secondary-container);
			}
		}

		&.tertiary {
			background-color: var(--mat-sys-tertiary);

			span {
				color: var(--mat-sys-on-tertiary);
			}
		}

		&.tertiary-container {
			background-color: var(--mat-sys-tertiary-container);

			span {
				color: var(--mat-sys-on-tertiary-container);
			}
		}

		&.error {
			background-color: var(--mat-sys-error);

			span {
				color: var(--mat-sys-on-error);
			}
		}

		&.error-container {
			background-color: var(--mat-sys-error-container);

			span {
				color: var(--mat-sys-on-error-container);
			}
		}

		// Semantic status colors (CSS custom properties for theme integration)
		&.status-info {
			background-color: var(--color-info);

			span {
				color: var(--color-on-info);
			}
		}

		&.status-success {
			background-color: var(--color-success);

			span {
				color: var(--color-on-success);
			}
		}

		&.status-warning {
			background-color: var(--color-warning);

			span {
				color: var(--color-on-warning);
			}
		}

		&.status-error {
			background-color: var(--color-error);

			span {
				color: var(--color-on-error);
			}
		}
	}
}

// Typography
.typography-card {
	mat-card-content {
		display: flex;
		flex-direction: column;
		gap: vars.$spacing-lg;

		h1,
		h2,
		h3,
		p {
			margin: 0;
		}
	}
}

// Buttons
.button-card {
	margin-bottom: vars.$spacing-lg;

	&:last-child {
		margin-bottom: 0;
	}
}

.button-group {
	display: flex;
	gap: vars.$spacing-md;
	flex-wrap: wrap;
	align-items: center;
}

// Forms
.style-note.preferred {
	background: var(--mat-sys-primary-container);
	color: var(--mat-sys-on-primary-container);
	padding: vars.$spacing-md vars.$spacing-lg;
	border-radius: 0.5rem;
	margin-bottom: vars.$spacing-lg;
	font-size: 0.875rem;
	line-height: 1.5;

	code {
		background: var(--mat-sys-surface-variant);
		color: var(--mat-sys-on-surface-variant);
		padding: 0.125rem 0.375rem;
		border-radius: 0.25rem;
		font-size: 0.8125rem;
	}
}

.form-card {
	margin-bottom: vars.$spacing-lg;

	&:last-child {
		margin-bottom: 0;
	}
}

.form-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(15.625rem, 1fr));
	gap: vars.$spacing-lg;

	mat-form-field {
		width: 100%;
	}
}

.checkbox-group {
	display: flex;
	flex-direction: column;
	gap: vars.$spacing-md;
}

mat-radio-group {
	display: flex;
	flex-direction: column;
	gap: vars.$spacing-md;
}

.toggle-group {
	display: flex;
	flex-direction: column;
	gap: vars.$spacing-md;
}

// Tables
.table-card {
	.example-table {
		width: 100%;
	}
}

// Feedback
.feedback-card {
	margin-bottom: vars.$spacing-lg;

	&:last-child {
		margin-bottom: 0;
	}
}

.progress-group {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(12.5rem, 1fr));
	gap: vars.$spacing-xl;
}

.progress-item {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: vars.$spacing-md;

	p {
		margin: 0;
		text-align: center;
	}

	&.progress-bar-item {
		align-items: stretch;

		mat-progress-bar {
			width: 100%;
		}
	}
}

// Icons
.icon-card {
	margin-bottom: vars.$spacing-lg;

	&:last-child {
		margin-bottom: 0;
	}
}

.icon-grid {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(7.5rem, 1fr));
	gap: vars.$spacing-lg;
}

.icon-item {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: vars.$spacing-sm;
	padding: vars.$spacing-lg;
	border-radius: vars.$border-radius-base;
	background-color: var(--mat-sys-surface-variant);
	transition: background-color 0.2s ease;

	&:hover {
		background-color: var(--mat-sys-surface-container-high);
	}

	mat-icon {
		color: var(--mat-sys-on-surface-variant);
		font-size: vars.$icon-size-lg;
		width: vars.$icon-size-lg;
		height: vars.$icon-size-lg;
	}

	span {
		color: var(--mat-sys-on-surface-variant);
		font-size: vars.$font-size-sm;
		text-align: center;
	}
}

// Responsive adjustments
@media #{vars.$breakpoint-mobile} {
	.style-guide {
		padding: vars.$spacing-lg;
	}

	.color-grid {
		grid-template-columns: repeat(auto-fit, minmax(9.375rem, 1fr));
	}

	.form-grid {
		grid-template-columns: 1fr;
	}

	.icon-grid {
		grid-template-columns: repeat(auto-fill, minmax(6.25rem, 1fr));
	}
}

// ============================================================================
// LOADING STATES TAB
// ============================================================================

// Skeleton vs Spinner Comparison
.loading-comparison {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr));
	gap: vars.$spacing-lg;
	margin-bottom: vars.$spacing-xl;
}

.comparison-card {
	.comparison-icon {
		background-color: var(--mat-sys-primary-container);
		color: var(--mat-sys-on-primary-container);
		border-radius: 50%;
		padding: vars.$spacing-sm;

		&.skeleton-icon {
			background-color: var(--mat-sys-tertiary-container);
			color: var(--mat-sys-on-tertiary-container);
		}

		&.spinner-icon {
			background-color: var(--mat-sys-secondary-container);
			color: var(--mat-sys-on-secondary-container);
		}
	}

	.comparison-list {
		margin: 0 0 vars.$spacing-md 0;
		padding-left: vars.$spacing-lg;

		li {
			margin-bottom: vars.$spacing-xs;
			color: var(--mat-sys-on-surface);
		}
	}

	.comparison-reason {
		margin: 0;
		padding: vars.$spacing-sm;
		background-color: var(--mat-sys-surface-variant);
		border-radius: vars.$border-radius-base;
		font-size: vars.$font-size-sm;
	}
}

// Skeleton Showcase
.skeleton-card {
	margin-bottom: vars.$spacing-lg;

	&:last-child {
		margin-bottom: 0;
	}
}

.skeleton-showcase {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(14rem, 1fr));
	gap: vars.$spacing-xl;
}

.skeleton-item {
	display: flex;
	flex-direction: column;
	gap: vars.$spacing-xs;

	&.wide {
		grid-column: 1 / -1;
	}

	.mat-label-large {
		font-weight: 500;
		color: var(--mat-sys-on-surface);
	}

	.mat-body-2 {
		color: var(--mat-sys-on-surface-variant);
		margin-bottom: vars.$spacing-sm;
	}

	.skeleton-demo {
		padding: vars.$spacing-md;
		background-color: var(--mat-sys-surface-variant);
		border-radius: vars.$border-radius-base;
		min-height: 3.5rem;
		display: flex;
		align-items: center;

		&.full-width {
			ngx-skeleton-loader {
				width: 100%;
			}
		}
	}

	.skeleton-code {
		font-family: vars.$font-family-monospace;
		font-size: vars.$font-size-xs;
		color: var(--mat-sys-primary);
		background-color: var(--mat-sys-surface-container);
		padding: vars.$spacing-xs vars.$spacing-sm;
		border-radius: vars.$border-radius-base;
		align-self: flex-start;
	}
}

// Layout Classes Grid
.layout-classes-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(14rem, 1fr));
	gap: vars.$spacing-md;
}

.layout-class-item {
	display: flex;
	flex-direction: column;
	gap: vars.$spacing-xs;
	padding: vars.$spacing-md;
	background-color: var(--mat-sys-surface-variant);
	border-radius: vars.$border-radius-base;

	code {
		font-family: vars.$font-family-monospace;
		font-size: vars.$font-size-sm;
		color: var(--mat-sys-primary);
		font-weight: 500;
	}

	.mat-body-2 {
		color: var(--mat-sys-on-surface-variant);
		margin: 0;
	}
}

// Composite Examples
.composite-examples {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr));
	gap: vars.$spacing-lg;
}

.example-card {
	mat-card-content {
		padding-top: vars.$spacing-md;
	}
}

// Spinner Reference
.spinner-reference-card {
	margin-top: vars.$spacing-lg;
}

.spinner-examples {
	display: flex;
	gap: vars.$spacing-xl;
	flex-wrap: wrap;
	align-items: flex-end;
}

.spinner-example {
	display: flex;
	flex-direction: column;
	gap: vars.$spacing-md;
	align-items: center;

	.mat-label-large {
		font-weight: 500;
		color: var(--mat-sys-on-surface);
		text-align: center;
	}

	.saving-button {
		display: flex;
		align-items: center;
		gap: vars.$spacing-sm;

		mat-spinner {
			display: inline-flex;
		}
	}
}
