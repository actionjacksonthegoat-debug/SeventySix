// =============================================================================
// UTILITY CLASSES
// =============================================================================
// Helper classes that supplement Material's utilities
// Keep minimal - Material provides most layout utilities
//
// NOTE: !important is intentional for utility classes. This follows the
// utility-first CSS methodology where utilities must override component styles
// to be useful. This is standard practice in frameworks like Tailwind, Bootstrap.
// =============================================================================

@use "variables" as vars;

// Spacing Utilities (supplement Material's spacing)
.mt-auto {
	margin-top: auto !important;
}
.mb-auto {
	margin-bottom: auto !important;
}
.ml-auto {
	margin-left: auto !important;
}
.mr-auto {
	margin-right: auto !important;
}

// Display Utilities
.d-none {
	display: none !important;
}
.d-block {
	display: block !important;
}
.d-flex {
	display: flex !important;
}
.d-inline-flex {
	display: inline-flex !important;
}
.d-grid {
	display: grid !important;
}

// Flex Utilities
.flex-row {
	flex-direction: row !important;
}
.flex-column {
	flex-direction: column !important;
}
.flex-wrap {
	flex-wrap: wrap !important;
}
.flex-nowrap {
	flex-wrap: nowrap !important;
}
.flex-1 {
	flex: 1 1 auto !important;
}
.flex-grow-1 {
	flex-grow: 1 !important;
}
.flex-shrink-0 {
	flex-shrink: 0 !important;
}

// Alignment Utilities
.align-items-start {
	align-items: flex-start !important;
}
.align-items-end {
	align-items: flex-end !important;
}
.align-items-center {
	align-items: center !important;
}
.align-items-baseline {
	align-items: baseline !important;
}
.align-items-stretch {
	align-items: stretch !important;
}

.justify-content-start {
	justify-content: flex-start !important;
}
.justify-content-end {
	justify-content: flex-end !important;
}
.justify-content-center {
	justify-content: center !important;
}
.justify-content-between {
	justify-content: space-between !important;
}
.justify-content-around {
	justify-content: space-around !important;
}

// Text Utilities
.text-left {
	text-align: left !important;
}
.text-center {
	text-align: center !important;
}
.text-right {
	text-align: right !important;
}
.text-truncate {
	overflow: hidden !important;
	text-overflow: ellipsis !important;
	white-space: nowrap !important;
}

// Overflow Utilities
.overflow-auto {
	overflow: auto !important;
}
.overflow-hidden {
	overflow: hidden !important;
}
.overflow-scroll {
	overflow: scroll !important;
}

// Cursor Utilities
.cursor-pointer {
	cursor: pointer !important;
}
.cursor-not-allowed {
	cursor: not-allowed !important;
}

// Width/Height Utilities
.w-100 {
	width: 100% !important;
}
.h-100 {
	height: 100% !important;
}

// Gap Utilities (for flex/grid containers)
.gap-8 {
	gap: vars.$spacing-sm !important;
}
.gap-12 {
	gap: vars.$spacing-sm !important;
}
.gap-16 {
	gap: vars.$spacing-md !important;
}
.gap-24 {
	gap: vars.$spacing-lg !important;
}
.gap-32 {
	gap: vars.$spacing-xl !important;
}

// =============================================================================
// COLLAPSIBLE CONTAINER UTILITIES
// =============================================================================
// Containers that collapse to zero height when empty
// Useful for action bars, toolbars, and conditional content areas

// Generic collapsible container - collapses when empty
.collapse-when-empty {
	&:empty {
		margin: 0 !important;
		padding: 0 !important;
		min-height: 0 !important;
		height: 0 !important;
	}

	// Also handle when children exist but are all hidden via @if directives
	&:not(:has(*:not(:empty))) {
		// No visible content - collapse
		margin: 0 !important;
		padding: 0 !important;
		min-height: 0 !important;
	}
}

// Table actions container - specific styling for action bars
.table-actions {
	&:not(:empty) {
		margin-bottom: vars.$spacing-md;
		min-height: vars.$form-field-height-dense; // 48px
	}

	// Also handle when it has children but they're all hidden
	&:has(*:empty),
	&:empty {
		margin: 0 !important;
		padding: 0 !important;
		min-height: 0 !important;
	}
}

// =============================================================================
// ACCESSIBILITY UTILITIES
// =============================================================================
// Screen reader and accessibility helper classes

// Visually hidden but accessible to screen readers (WCAG compliant)
.visually-hidden,
.sr-only {
	position: absolute !important;
	width: 1px !important;
	height: 1px !important;
	padding: 0 !important;
	margin: -1px !important;
	overflow: hidden !important;
	clip: rect(0, 0, 0, 0) !important;
	white-space: nowrap !important;
	border: 0 !important;
}

// Visually hidden but visible on focus (for skip links)
.visually-hidden-focusable:not(:focus):not(:focus-within) {
	position: absolute !important;
	width: 1px !important;
	height: 1px !important;
	padding: 0 !important;
	margin: -1px !important;
	overflow: hidden !important;
	clip: rect(0, 0, 0, 0) !important;
	white-space: nowrap !important;
	border: 0 !important;
}
