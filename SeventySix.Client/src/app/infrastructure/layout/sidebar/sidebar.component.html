<nav class="app-sidebar">
	<!-- Close button for overlay mode -->
	<div class="sidebar-header">
		<button
			mat-icon-button
			class="close-sidebar-btn"
			(click)="closeSidebar()"
			matTooltip="Close menu"
			aria-label="Close menu"
		>
			<mat-icon>close</mat-icon>
		</button>
	</div>

	@for (section of visibleNavSections(); track section.title)
	{
		<!-- Section Title -->
		<div class="nav-section-title">{{ section.title }}</div>

		<!-- Navigation List -->
		<mat-nav-list>
			@for (item of section.items; track item.route)
			{
				<a
					mat-list-item
					[routerLink]="item.route"
					routerLinkActive="active"
					[routerLinkActiveOptions]="{ exact: item.route === '/' }"
					(click)="closeSidebarOnMobile()"
				>
					<mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
					<span matListItemTitle>{{ item.label }}</span>
				</a>
			}
		</mat-nav-list>

		<!-- Divider between sections -->
		@if (!$last)
		{
			<mat-divider></mat-divider>
		}
	}
</nav>
