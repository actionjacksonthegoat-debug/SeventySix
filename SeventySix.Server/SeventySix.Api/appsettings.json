{
	"ConnectionStrings": {
		"DefaultConnection": "Host=localhost;Port=5432;Database=seventysix;Username=postgres;Password=PLACEHOLDER_USE_USER_SECRETS;Pooling=true;Minimum Pool Size=5;Maximum Pool Size=100;Connection Lifetime=0;"
	},
	"Serilog": {
		"MinimumLevel": {
			"Default": "Warning",
			"Override": {
				"Microsoft.AspNetCore": "Warning",
				"Microsoft.EntityFrameworkCore": "Warning",
				"System": "Warning"
			}
		},
		"WriteTo": [
			{
				"Name": "Console",
				"Args": {
					"outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
				}
			},
			{
				"Name": "File",
				"Args": {
					"path": "logs/seventysix-.txt",
					"rollingInterval": "Day",
					"retainedFileCountLimit": 30,
					"outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] {SourceContext} {Message:lj} {Properties:j}{NewLine}{Exception}"
				}
			}
		],
		"Enrich": [
			"FromLogContext",
			"WithMachineName",
			"WithThreadId",
			"WithExceptionDetails"
		],
		"Properties": {
			"Application": "SeventySix"
		}
	},
	"Logging": {
		"Cleanup": {
			"Enabled": true,
			"IntervalHours": 24,
			"RetentionDays": 7,
			"InitialDelayMinutes": 5,
			"LogDirectory": "logs",
			"LogFilePattern": "seventysix-*.txt"
		}
	},
	"AllowedHosts": "*",
	"Security": {
		"EnforceHttps": true,
		"HttpsPort": 7074,
		"HstsMaxAgeSeconds": 31536000,
		"HstsIncludeSubdomains": true,
		"AllowHttpForHealthChecks": false,
		"AllowHttpForMetrics": true,
		"AllowHttpForOpenApi": false
	},
	"ForwardedHeaders": {
		"KnownProxies": [],
		"KnownNetworks": [],
		"ForwardLimit": 1
	},
	"Testing": {
		"RunIntegrationTests": false
	},
	"AdminSeeder": {
		"Enabled": true,
		"Username": "admin",
		"Email": "admin@seventysix.local",
		"FullName": "System Administrator",
		"InitialPassword": "Admin123!",
		"WorkFactor": 12
	},
	"WhitelistedPermissions": {
		"Grants": []
	},
	"RateLimiting": {
		"PermitLimit": 250,
		"WindowSeconds": 3600,
		"RetryAfterSeconds": 60,
		"Enabled": true
	},
	"Cors": {
		"AllowedOrigins": [
			"http://localhost:4200",
			"https://localhost:4200",
			"http://localhost:3000",
			"http://seventysix-grafana-dev:3000"
		]
	},
	"Polly": {
		"RetryCount": 3,
		"RetryDelaySeconds": 2,
		"CircuitBreakerFailureThreshold": 5,
		"CircuitBreakerSamplingDurationSeconds": 60,
		"CircuitBreakerBreakDurationSeconds": 30,
		"TimeoutSeconds": 10,
		"UseJitter": true
	},
	"OpenTelemetry": {
		"ServiceName": "SeventySix.Api",
		"ServiceVersion": "1.0.0",
		"OtlpEndpoint": "http://localhost:4317",
		"Sampling": {
			"Type": "AlwaysOn",
			"Probability": 1.0
		}
	},
	"Cache": {
		"OutputCache": {
			"Policies": {
				"users": {
					"DurationSeconds": 60,
					"VaryByQuery": ["id"],
					"Tag": "users",
					"Enabled": true
				},
				"logs": {
					"DurationSeconds": 60,
					"VaryByQuery": [
						"logLevel",
						"startDate",
						"endDate",
						"sourceContext",
						"requestPath",
						"page",
						"pageSize"
					],
					"Tag": "logs",
					"Enabled": true
				},
				"health": {
					"DurationSeconds": 15,
					"VaryByQuery": [],
					"Tag": "health",
					"Enabled": true
				},
				"thirdpartyrequests": {
					"DurationSeconds": 60,
					"VaryByQuery": ["page", "pageSize"],
					"Tag": "third-party",
					"Enabled": true
				}
			}
		}
	},
	"Jwt": {
		"SecretKey": "PLACEHOLDER_USE_USER_SECRETS_OR_ENV_VAR_MIN_32_CHARS",
		"Issuer": "SeventySix.Api",
		"Audience": "SeventySix.Client",
		"AccessTokenExpirationMinutes": 15,
		"RefreshTokenExpirationDays": 1,
		"RefreshTokenRememberMeExpirationDays": 14,
		"AbsoluteSessionTimeoutDays": 30
	},
	"RefreshTokenCleanup": {
		"IntervalHours": 24,
		"RetentionDays": 7
	},
	"Auth": {
		"OAuth": {
			"ClientCallbackUrl": "http://localhost:4200/auth/callback",
			"Providers": [
				{
					"Provider": "GitHub",
					"ClientId": "PLACEHOLDER_USE_USER_SECRETS",
					"ClientSecret": "PLACEHOLDER_USE_USER_SECRETS",
					"Scopes": "read:user user:email",
					"AuthorizationEndpoint": "https://github.com/login/oauth/authorize",
					"TokenEndpoint": "https://github.com/login/oauth/access_token",
					"UserInfoEndpoint": "https://api.github.com/user",
					"RedirectUri": "https://localhost:7074/api/v1/auth/github/callback"
				}
			]
		},
		"RateLimit": {
			"LoginAttemptsPerMinute": 5,
			"RegisterAttemptsPerHour": 3,
			"TokenRefreshPerMinute": 10
		},
		"Cookie": {
			"RefreshTokenCookieName": "X-Refresh-Token",
			"OAuthStateCookieName": "X-OAuth-State",
			"OAuthCodeVerifierCookieName": "X-OAuth-CodeVerifier",
			"SecureCookie": true
		},
		"Password": {
			"MinLength": 8,
			"RequireUppercase": true,
			"RequireLowercase": true,
			"RequireDigit": true,
			"RequireSpecialChar": true,
			"WorkFactor": 12
		},
		"Token": {
			"MaxActiveSessionsPerUser": 5
		}
	},
	"Email": {
		"SmtpHost": "smtp-relay.brevo.com",
		"SmtpPort": 587,
		"SmtpUsername": "PLACEHOLDER_USE_USER_SECRETS",
		"SmtpPassword": "PLACEHOLDER_USE_USER_SECRETS",
		"UseSsl": true,
		"FromAddress": "PLACEHOLDER_USE_USER_SECRETS",
		"FromName": "SeventySix",
		"ClientBaseUrl": "http://localhost:4200",
		"Enabled": false
	},
	"ThirdPartyApiLimits": {
		"DefaultDailyLimit": 1000,
		"Enabled": true,
		"Limits": {
			"BrevoEmail": {
				"DailyLimit": 250,
				"Enabled": true
			}
		}
	},
	"Kestrel": {
		"EndpointDefaults": {
			"Protocols": "Http1AndHttp2"
		}
	}
}
